{% extends "partials/base.html" %}

{% load static %}

{%block content%}
    <head>
<style>
input[type="range"] {
    -webkit-appearance: none;
    margin-right: 15px;
    height: 7px;
    background: rgba(255,255,255,0.6);
    border-radius: 5px;
    background-image: linear-gradient(#3bb77e,#3bb77e);
    background-size: 100% 100%;
    background-repeat: no-repeat;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #3bb77e;
    cursor: ew-resize;
    box-shadow: 0 0 2px 0 #555;
    transition: background .3s ease-in-out;
}

input[type="range"]::-webkit-slider-runnable-track {
    -webkit-appearance: none;
    box-shadow: none;
    border: none;
    background: transparent;
}
</style>
</head>


    <!-- Single Page Header start -->
    <div class="container-fluid page-header py-5">
        <h1 class="text-center text-white display-6 wow fadeInUp" data-wow-delay="0.1s">Shop Page</h1>
        <ol class="breadcrumb justify-content-center mb-0 wow fadeInUp" data-wow-delay="0.3s">
            <li class="breadcrumb-item"><a href="http://127.0.0.1:8000">Home</a></li>
            <li class="breadcrumb-item"><a href="#">Pages</a></li>
            <li class="breadcrumb-item active text-white">Shop</li>
        </ol>
    </div>
    <!-- Single Page Header End -->

    <!-- Searvices Start -->
    <div class="container-fluid px-0">
        <div class="row g-0">
            <div class="col-6 col-md-4 col-lg-2 border-start border-end wow fadeInUp" data-wow-delay="0.1s">
                <div class="p-4">
                    <div class="d-inline-flex align-items-center">
                        <i class="fa fa-sync-alt fa-2x text-primary"></i>
                        <div class="ms-4">
                            <h6 class="text-uppercase mb-2">Free Return</h6>
                            <p class="mb-0">30 days money back guarantee!</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2 border-end wow fadeInUp" data-wow-delay="0.2s">
                <div class="p-4">
                    <div class="d-flex align-items-center">
                        <i class="fab fa-telegram-plane fa-2x text-primary"></i>
                        <div class="ms-4">
                            <h6 class="text-uppercase mb-2">Free Shipping</h6>
                            <p class="mb-0">Free shipping on all order</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2 border-end wow fadeInUp" data-wow-delay="0.3s">
                <div class="p-4">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-life-ring fa-2x text-primary"></i>
                        <div class="ms-4">
                            <h6 class="text-uppercase mb-2">Support 24/7</h6>
                            <p class="mb-0">We support online 24 hrs a day</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2 border-end wow fadeInUp" data-wow-delay="0.4s">
                <div class="p-4">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-credit-card fa-2x text-primary"></i>
                        <div class="ms-4">
                            <h6 class="text-uppercase mb-2">Receive Gift Card</h6>
                            <p class="mb-0">Recieve gift all over oder $50</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2 border-end wow fadeInUp" data-wow-delay="0.5s">
                <div class="p-4">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-lock fa-2x text-primary"></i>
                        <div class="ms-4">
                            <h6 class="text-uppercase mb-2">Secure Payment</h6>
                            <p class="mb-0">We Value Your Security</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4 col-lg-2 border-end wow fadeInUp" data-wow-delay="0.6s">
                <div class="p-4">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-blog fa-2x text-primary"></i>
                        <div class="ms-4">
                            <h6 class="text-uppercase mb-2">Online Service</h6>
                            <p class="mb-0">Free return products in 30 days</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Searvices End -->


    <!-- Products Offer Start -->
    <div class="container-fluid bg-light py-5">
        <div class="container">
            <div class="row g-4">
                {%for p in banners%}
                <div class="col-lg-6 wow fadeInLeft" data-wow-delay="0.2s">
                    <a href="#" class="d-flex align-items-center justify-content-between border bg-white rounded p-4">
                        <div>
                            <p class="text-muted mb-3">{{p.description}}</p>
                            <h3 class="text-primary">{{p.category}}</h3>
                            <h1 class="display-3 text-secondary mb-0">40% <span
                                    class="text-primary fw-normal">Off</span></h1>
                        </div>
                        <img src="{{p.image.url}}" style="height:250px" class="img-fluid" alt="">
                    </a>
                </div>
                {%endfor%}
            </div>
        </div>
    </div>
    <!-- Products Offer End -->

    <!-- Shop Page Start -->
    <div class="container-fluid shop py-5">
        <div class="container py-5">
            <div class="row g-4">
                <div class="col-lg-3 wow fadeInUp" data-wow-delay="0.1s">
                    <div class="product-categories mb-4">
                        <h4>Product Categories ({{categories.count}})</h4>
                        <ul class="list-unstyled">
                            {%for c in categories%}
                            <li>
                                    <input class="form-check-input filter-checkbox" data-filter="category" type="checkbox"id="exampleCheckbox2" name="checkbox" value="{{c.id}}"/>
                                    &nbsp;
                                    <a href="{% url 'core:products' c.cid %}" class="text-dark"><img class="category-img" src="" alt="" />
                                        {{c.title}}</a>
                            </li>
                            {%endfor%}
                        </ul>
                    </div>
                    <div class="product-categories mb-4">
                        <h4>Vendors ({{vendors.count}})</h4>
                        <ul class="list-unstyled">
                            {%for v in vendors%}
                            <li>
                                    <input class="form-check-input filter-checkbox" data-filter="vendor" type="checkbox" id="exampleCheckbox1" name="checkbox" value="{{v.id}}"/>
                                    <label class="form-check-label" for="exampleCheckbox1"><span>{{v.title}}</span></label>
                            </br>
                            </li>
                            {%endfor%}
                        </ul>
                    </div>
                    <div class="price mb-4">
                        <div class="price mb-4">
                        <h4 class="mb-2">By Price</h4>
                        <input type="range" id="priceRange" min="{{min_max_price.price__min}}" max="{{min_max_price.price__max}}" value="{{min_max_price.price__min|floatformat:2}}" class="form-range w-100">
                        <div class="d-flex justify-content-between">
                        <div class="caption">From: <strong id="priceMinLabel" class="text-brand">{{min_max_price.price__min|floatformat:2}}</strong>
                    </div>

                    <div class="caption">To:
                        <strong id="priceMaxLabel" class="text-brand">{{min_max_price.price__max|floatformat:2}}</strong>
                    </div>
                </div>

                    <input type="number" id="amountInput" value="{{min_max_price.price__min|floatformat:2}}" min="{{min_max_price.price__min}}" max="{{min_max_price.price__max}}" class="mt-2">
                    <output id="amountOutput">{{min_max_price.price__min|floatformat:2}}</output>
            </div>

                    </div>
                    <div class="custome-checkbox">
                        <button class="btn mt-20 w-100"  type="button" id="price-filter-btn"> Filter </button>
                    </div>
                    <script>
                        const slider = document.getElementById("priceRange");
                        const amountInput = document.getElementById("amountInput");
                        const amountOutput = document.getElementById("amountOutput");
                        
                        const minVal = parseFloat(slider.min);
                        const maxVal = parseFloat(slider.max);

                        // Slider → Input + Output
                        slider.oninput = function () {
                            amountInput.value = this.value;
                            amountOutput.textContent = this.value;
                        };

                       // Input → Slider + Output
                        amountInput.oninput = function () {
                           let val = parseFloat(this.value);

                      // Keep value within slider range
                           if (val < minVal) val = minVal;
                           if (val > maxVal) val = maxVal;

                           slider.value = val;
                           amountOutput.textContent = val;
                    };
                    </script>
                    <div class="product-color mb-3">
                        <h4>Select By Color</h4>
                        <ul class="list-unstyled">
                            <li>
                                <div class="product-color-item">
                                    <a href="#" class="text-dark"><i class="fas fa-apple-alt text-secondary me-2"></i>
                                        Gold</a>
                                    <span>(1)</span>
                                </div>
                            </li>
                            <li>
                                <div class="product-color-item">
                                    <a href="#" class="text-dark"><i class="fas fa-apple-alt text-secondary me-2"></i>
                                        Green</a>
                                    <span>(1)</span>
                                </div>
                            </li>
                            <li>
                                <div class="product-color-item">
                                    <a href="#" class="text-dark"><i class="fas fa-apple-alt text-secondary me-2"></i>
                                        White</a>
                                    <span>(1)</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="featured-product mb-4">
                        <h4 class="mb-3">Featured products</h4>
                        {% for p in new_arrivals%}
                        <div class="featured-product-item">
                            <div class="rounded me-4" style="width: 100px; height: 100px;">
                                <img src="{{p.image.url}}" class="img-fluid rounded" alt="Image">
                            </div>
                            <div>
                                <h6 class="mb-2">{{p.title}}</h6>
                                <div class="d-flex mb-2">
                                    <i class="fa fa-star text-secondary"></i>
                                    <i class="fa fa-star text-secondary"></i>
                                    <i class="fa fa-star text-secondary"></i>
                                    <i class="fa fa-star text-secondary"></i>
                                    <i class="fa fa-star"></i>
                                </div>
                                <div class="d-flex mb-2">
                                    <h5 class="fw-bold me-2">{{p.price}}</h5>
                                    <h5 class="text-danger text-decoration-line-through">{{p.old_price}}</h5>
                                </div>
                            </div>
                        </div>
                        {%endfor%}
                        <div class="d-flex justify-content-center my-4">
                            <a href="#" class="btn btn-primary px-4 py-3 rounded-pill w-100">Vew More</a>
                        </div>
                    </div>
                    <a href="#">
                        <div class="position-relative">
                            <img src="{%static 'assets/img/product-banner-2.jpg '%}" class="img-fluid w-100 rounded" alt="Image">
                            <div class="text-center position-absolute d-flex flex-column align-items-center justify-content-center rounded p-4"
                                style="width: 100%; height: 100%; top: 0; right: 0; background: rgba(242, 139, 0, 0.3);">
                                <h5 class="display-6 text-primary">SALE</h5>
                                <h4 class="text-secondary">Get UP To 50% Off</h4>
                                <a href="#" class="btn btn-primary rounded-pill px-4">Shop Now</a>
                            </div>
                        </div>
                    </a>
                    <div class="product-tags py-4">
                        <h4 class="mb-3">PRODUCT TAGS</h4>
                        <div class="product-tags-items bg-light rounded p-3">
                            <a href="#" class="border rounded py-1 px-2 mb-2">New</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">brand</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">black</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">white</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">tablats</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">phone</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">camera</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">drone</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">talevision</a>
                            <a href="#" class="border rounded py-1 px-2 mb-2">slaes</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 wow fadeInUp" data-wow-delay="0.1s">
                    <div class="row g-4">
                        <div class="col-xl-7">
                            <div class="input-group w-100 mx-auto d-flex">
                                <input type="search" class="form-control p-3" placeholder="keywords"
                                    aria-describedby="search-icon-1">
                                <span id="search-icon-1" class="input-group-text p-3"><i
                                        class="fa fa-search"></i></span>
                            </div>
                        </div>
                        <div class="col-xl-3 text-end">
                            <div class="bg-light ps-3 py-3 rounded d-flex justify-content-between">
                                <label for="electronics">Sort By:</label>
                                <select id="electronics" name="electronicslist"
                                    class="border-0 form-select-sm bg-light me-3" form="electronicsform">
                                    <option value="volvo">Default Sorting</option>
                                    <option value="volv">Nothing</option>
                                    <option value="sab">Popularity</option>
                                    <option value="saab">Newness</option>
                                    <option value="opel">Average Rating</option>
                                    <option value="audio">Low to high</option>
                                    <option value="audi">High to low</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-4 col-xl-2">
                            <ul class="nav nav-pills d-inline-flex text-center py-2 px-2 rounded bg-light mb-4">
                                <li class="nav-item me-4">
                                    <a class="bg-light" data-bs-toggle="pill" href="#tab-5">
                                        <i class="fas fa-th fa-3x text-primary"></i>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="bg-light" data-bs-toggle="pill" href="#tab-6">
                                        <i class="fas fa-bars fa-3x text-primary"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="tab-content">
                        <div id="tab-5" class="tab-pane fade show p-0 active">
                            <div class="row g-4 product">
    {% for c in categories %}
    <div class="col-lg-4">
        <div class="product-item rounded wow fadeInUp" data-wow-delay="0.1s">

            <!-- Card inner -->
            <div class="product-item-inner border rounded">

                <!-- Image -->
                <div class="product-item-inner-item">
                    <a href="{% url 'core:products' c.cid %}">
                        <img src="{{ c.image.url }}"
                             class="img-fluid w-100 rounded-top"
                             alt="{{ c.title }}">
                    </a>
                    <div class="product-new">New</div>
                </div>

                <!-- Title -->
                <div class="text-center rounded-bottom p-4">
                    <a href="{% url 'core:products' c.cid %}" class="d-block h4">
                        {{ c.title }}
                    </a>
                </div>

            </div>

            <!-- Add to cart + stars -->
            <div class="product-item-add border border-top-0 rounded-bottom text-center p-4 pt-0">

                <!-- Stars + icons -->
                <div class="d-flex justify-content-between align-items-center">
                    <div class="d-flex">
                        <i class="fas fa-star text-primary"></i>
                        <i class="fas fa-star text-primary"></i>
                        <i class="fas fa-star text-primary"></i>
                        <i class="fas fa-star text-primary"></i>
                        <i class="fas fa-star"></i>
                    </div>

                    <div class="d-flex">
                        <a href="#" class="text-primary me-3">
                            <span class="rounded-circle btn-sm-square border">
                                <i class="fas fa-random"></i>
                            </span>
                        </a>
                        <a href="#" class="text-primary">
                            <span class="rounded-circle btn-sm-square border">
                                <i class="fas fa-heart"></i>
                            </span>
                        </a>
                    </div>
                </div>

            </div>

        </div>
    </div>
    {% endfor %}
</div>

                                <div class="col-12 wow fadeInUp" data-wow-delay="0.1s">
                                    <div class="pagination d-flex justify-content-center mt-5">
                                        <a href="#" class="rounded">&laquo;</a>
                                        <a href="#" class="active rounded">1</a>
                                        <a href="#" class="rounded">2</a>
                                        <a href="#" class="rounded">3</a>
                                        <a href="#" class="rounded">4</a>
                                        <a href="#" class="rounded">5</a>
                                        <a href="#" class="rounded">6</a>
                                        <a href="#" class="rounded">&raquo;</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Shop Page End -->

{%endblock content%}